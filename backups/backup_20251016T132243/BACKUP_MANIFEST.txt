â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           MANIFEST DE SAUVEGARDE - 2025-10-16T13:22:43Z          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“ LOCALISATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
RÃ©pertoire : /ansible/backups/backup_20251016T132243
Taille totale : 4.0K
Nombre de fichiers : 3
Hostname : localhost

ğŸ“¦ VOLUMES SAUVEGARDÃ‰S
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ mariadb_data.tar.gz
âœ“ glpi_data.tar.gz
âœ“ influxdb_data.tar.gz
âœ“ grafana_data.tar.gz
âœ“ mongodb_data.tar.gz

ğŸ’¾ BASES DE DONNÃ‰ES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âœ“ mariadb_dump.sql.gz
âœ“ influxdb_backup.tar.gz
âœ“ mongodb_dump.archive

ğŸ“‹ LISTE DES FICHIERS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
/ansible/backups/backup_20251016T132243/configs/.env (98)
/ansible/backups/backup_20251016T132243/configs/docker-compose.yml (4.0K)
/ansible/backups/backup_20251016T132243/databases/influxdb_backup.tar.gz (45)

ğŸ”„ COMMANDES DE RESTAURATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‚ Restaurer un volume :
docker run --rm \\
  -v VOLUME_NAME:/data \\
  -v /ansible/backups/backup_20251016T132243/volumes:/backup \\
  alpine tar xzf /backup/VOLUME_NAME.tar.gz -C /data

ğŸ—„ï¸  Restaurer MariaDB :
gunzip < /ansible/backups/backup_20251016T132243/databases/mariadb_dump.sql.gz | \\
docker exec -i ansible-mariadb-1 mysql -u root -p

ğŸ“Š Restaurer InfluxDB :
tar xzf /ansible/backups/backup_20251016T132243/databases/influxdb_backup.tar.gz -C /tmp && \\
docker exec ansible-influxdb-1 influx restore /tmp/influxdb_backup -portable

ğŸƒ Restaurer MongoDB :
docker exec -i ansible-mongodb-1 mongorestore \\
  --archive=/dev/stdin --gzip \\
  < /ansible/backups/backup_20251016T132243/databases/mongodb_dump.archive

âš ï¸  NOTES IMPORTANTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ VÃ©rifier que les services sont arrÃªtÃ©s avant restauration
â€¢ S'assurer que les volumes existent ou les crÃ©er
â€¢ Tester la restauration sur un environnement de test
â€¢ Conserver cette sauvegarde dans un lieu sÃ»r
â€¢ DurÃ©e de rÃ©tention : 7 jours
